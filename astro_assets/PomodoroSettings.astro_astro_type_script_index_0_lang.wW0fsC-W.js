import{g as f,a as L,b as h,o as E,l as S,r as _,s as a}from"./PomodoroStore.B3yVr2Vj.js";(async()=>{const l=document.getElementById("btnPomodoroSettings"),i=l.querySelector(".settings"),g=document.getElementById("btnCloseDialog"),n=document.getElementById("modal-dialog"),p=document.getElementById("fs__submit"),{timePomodoro:P,timeShortBreak:D,timeLongBreak:I,font:$,color:j}=f();L(async e=>{const{font:s,color:t,letterSpacing:r}=e.getState();document.body.style.setProperty("--clr-pomodoro",`var(${t})`),document.body.style.setProperty("--ff-pomodoro",`var(${s})`),document.body.style.setProperty("--ls-pomodoro",`var(${r})`)});const y=()=>{const{timePomodoro:e,timeShortBreak:s,timeLongBreak:t,font:r,color:u}=f();a(".form-settings input[name='timePomodoro']","value",e),a(".form-settings input[name='timeLongBreak']","value",t),a(".form-settings input[name='timeShortBreak']","value",s),a(`.form-settings input[name="font"][value="${r}"]`,"checked",!0),a(`.form-settings input[name="color"][value="${u}"]`,"checked",!0)};h('.form-settings__color input[type="radio"], .form-settings__font input[type="radio"]',".form-settings__color .fs__group label, .form-settings__font .fs__group label"),E('#form-settings input[type="number"]'),p.addEventListener("click",e=>{e.preventDefault();const s=document.getElementById("form-settings"),t=new FormData(s),r=t.get("timePomodoro"),u=t.get("timeShortBreak"),v=t.get("timeLongBreak"),b=t.get("color"),k=t.get("font");if([r,u,v].map(o=>Number(o)).some(o=>!o||isNaN(o)||o<1)){alert("Please enter a valid number (1 or more) for all time settings.");return}if(!k||!b){alert("Please enter a valid font and/or color for all time settings.");return}let m={};for(const[o,B]of t)m[o]=B;m.letterSpacing=m.font==="--ff-space"?"--ls--10":"--ls-0",S(m),_(),n.close()});let c=null;l.addEventListener("click",e=>{e.preventDefault(),y(),c=document.activeElement,n.showModal(),n.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus()}),g.addEventListener("click",e=>{e.preventDefault(),n.close(),c?.focus()}),n.addEventListener("keydown",e=>{e.key==="Escape"&&(e.preventDefault(),n.close(),c?.focus())});let d=!1;l.addEventListener("touchstart",()=>{d||(i.classList.add("rotating","jelly"),setTimeout(()=>{i.classList.remove("rotating","jelly")},500),d=!0,setTimeout(()=>d=!1,600))}),l.addEventListener("mouseenter",()=>{i.classList.add("jelly"),setTimeout(()=>i.classList.remove("jelly"),500)})})();
